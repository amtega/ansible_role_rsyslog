---
# Role default lower priority variables
# Packages to install
rsyslog_packages_centos6:
  rsyslog: absent
  rsyslog7: present
  rsyslog7-relp: present

rsyslog_packages_centos7:
  rsyslog: present
  rsyslog-relp: present

rsyslog_packages_fedora_all:
  rsyslog: present
  rsyslog-relp: present

rsyslog_packages_el6:
  rsyslog: absent
  rsyslog7: present
  rsyslog7-relp: present

rsyslog_packages_el7:
  rsyslog: present
  rsyslog-relp: present

#Indicates remote server fot omrelp module config
rsyslog_remote_server: central-log-serv.example.com

# A list of dicts whith modules to configure
rsyslog_modules: []

#Every module is a list os dicts with tis elements:
# List of dicts with the open services
#
# {
#   filename: <name of the file wich contains module configuration>
#   module: <module name>
#   config_params: <list of strings with params to add in module load (optional)>
#   actions: <list of dict with actions defined for the module (optional)>
#     {
#       facility: <string with faclilities to apply the action>
#       action_params: <list of strings with params to add to the action>
#      }: <>
# }
rsyslog_module_omrelp:
  filename: auth.conf
  module: omrelp
  actions:
    - facility: authpriv.*,auth.*
      action_params:
        - type="omrelp"
        - target=\""{{ rsyslog_remote_server }}"\"
        - port="2514"
